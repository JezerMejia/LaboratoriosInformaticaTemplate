<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <script src="https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.slim.min.js"
    integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj"
    crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-Fy6S3B9q64WdZWQUiU+q4/2Lc9npb8tCaSX9FK7E8HnRr0Jz8D6OP9dO5Vg3Q9ct"
    crossorigin="anonymous"></script>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/css/bootstrap.min.css"
    integrity="sha384-xOolHFLEh07PJGoPkLv1IbcEPTNtaed2xpHsD9ESMhqIYd0nLMwNLD69Npy4HI+N" crossorigin="anonymous" />
  <link rel="preconnect" href="https://rsms.me/" />
  <link rel="stylesheet" href="https://rsms.me/inter/inter.css" />
  <link rel="stylesheet" href="/usuarios.css" />
  <script src="https://kit.fontawesome.com/a68fa4bab1.js" crossorigin="anonymous"></script>

  <!--SearchBar links-->
  <!-- Include Bootstrap CSS -->
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.6.0/css/bootstrap.min.css">

  <!-- Include DataTables CSS -->
  <link rel="stylesheet" href="https://cdn.datatables.net/1.11.3/css/jquery.dataTables.min.css">

  <!-- Include jQuery library -->
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

  <!-- Include DataTables JavaScript -->
  <script src="https://cdn.datatables.net/1.11.3/js/jquery.dataTables.min.js"></script>

  <!--Date Picker Bootstrap-->
  <link rel="stylesheet"
    href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.9.0/css/bootstrap-datepicker.min.css">
  <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.1/umd/popper.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.9.0/js/bootstrap-datepicker.min.js">
  </script>

  <!--Timepicker-->
  <!-- Tempus Dominus CSS -->
  <link rel="stylesheet"
    href="https://cdnjs.cloudflare.com/ajax/libs/tempusdominus-bootstrap-4/5.39.0/css/tempusdominus-bootstrap-4.min.css">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.29.1/moment.min.js"></script>
  <script
    src="https://cdnjs.cloudflare.com/ajax/libs/tempusdominus-bootstrap-4/5.39.0/js/tempusdominus-bootstrap-4.min.js"></script>

  <title>Laboratorios de Inform치tica</title>
</head>

<body>
  <div class="wrapper">
    <nav
      class="navbar sidebar bg-institucional flex-column flex-nowrap align-items-start align-items-sm-center justify-content-start">
      <div class="d-flex flex-row justify-content-between justify-content-sm-center w-100">
        <div class="brand">
          <img src="/assets/UCA-Logo.svg" alt="" />
        </div>
        <button id="sidebar-inner-toggler" class="btn btn-light d-block d-sm-none" type="button" data-toggle="collapse"
          data-target="#sidebar-content" aria-controls="sidebar-content" aria-expanded="false"
          aria-label="Toggle navigation">
          <i class="fa-solid fa-bars fa-xl"></i>
        </button>
      </div>

      <button id="sidebar-toggler" class="d-none d-sm-block">
        <i class="fa-solid fa-caret-right fa-xl"></i>
      </button>

      <div class="collapse navbar-collapse w-100" id="sidebar-content">
        <div class="nav-container d-flex flex-column w-100 h-100 justify-content-start justify-content-sm-between">
          <ul class="nav flex-column">
            <li class="nav-item">
              <a class="nav-link active" href="/">
                <i class="fa-solid fa-table-cells-large fa-lg"></i>
                Dashboard
              </a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="/solicitudes.html">
                <i class="fa-solid fa-inbox fa-lg"></i>
                Solicitudes
              </a>
            </li>
            <hr />
            <li class="nav-item">
              <a class="nav-link" href="/laboratorios">
                <i class="fa-solid fa-desktop fa-lg"></i>
                Laboratorios
              </a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="/usuarios.html">
                <i class="fa-solid fa-user fa-lg"></i>
                Usuarios
              </a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="/informes">
                <i class="fa-solid fa-file-lines fa-lg"></i>
                Informes
              </a>
            </li>
          </ul>
          <ul class="nav flex-column">
            <li class="nav-item">
              <a class="nav-link" href="/ajustes">
                <i class="fa-solid fa-gear fa-lg"></i>
                Ajustes
              </a>
            </li>
            <li class="nav-item">
              <a class="nav-link account-link" href="/cuenta">
                <img src="/assets/chad.png" class="account-img" alt="Chad" />
                <div class="account-details">
                  <span class="account-name">Yamil Guzm치n</span>
                  <span class="account-role">Coordinador</span>
                </div>
              </a>
            </li>
          </ul>
        </div>
      </div>
    </nav>

    <main class="container p-4">
      <div class="nav-top">
        <div class="nav-item">
          <a class="all" style="color: inherit; text-decoration: none;" href="/usuarios.html">Estudiantes</a>
          <a class="all" style="color: inherit; text-decoration: none;" href="/usuarios-tecnico.html">Tecnicos</a>
        </div>
        <div class="nav-item">
          <button type="button" class="add" data-toggle="modal" data-target="#myModal">
            <i class="fa-solid fa-circle-plus"></i> A침adir Estudiante
          </button>
          <input type="text" id="myInput" class="form-control mb-3" placeholder="Search..." />
        </div>
      </div>

      <div class="card">
        <div class="card-body">
          <table id="dtTable" class="table no-border-top">
            <thead>
              <tr>
                <th scope="col"></th>
                <th scope="col">Nombres</th>
                <th scope="col">Apellidos</th>
                <th scope="col">Carnet</th>
                <th scope="col">Correo</th>
                <th scope="col">Telefono</th>
                <th scope="col">Estado</th>
              </tr>
            </thead>
            <tbody>
              <tr>
              <tr data-filter-item="Esteman">
                <th scope="row"><img src="assets/chad.png" alt=""></th>
                <td>Pedro </td>
                <td>Ramos</td>
                <td>000021525</td>
                <td>juan.perez21525@est.uca.edu.ni</td>
                <td>88831818</td>
                <td>Activo</td>
              </tr>
              <!---->
              <tr>
                <th scope="row"><img src="assets/chad.png" alt=""></th>
                <td>Conste</td>
                <td>Fulanito</td>
                <td>000019142</td>
                <td>juan.perez19142@est.uca.edu.ni</td>
                <td>88334512</td>
                <td>Activo</td>
              </tr>
              <tr>
                <th scope="row"><img src="assets/chad.png" alt=""></th>
                <td>Jose</td>
                <td>Matamoros</td>
                <td>000015001</td>
                <td>juan.perez15001@est.uca.edu.ni</td>
                <td>88536512</td>
                <td>Activo</td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>

      <!-- Modal -->
      <div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle"
        aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered" role="document">
          <div class="modal-content">
            <div class="modal-header">
              <h5 class="modal-title" id="exampleModalLongTitle">A침adir Estudiante</h5>
            </div>
            <div class="modal-body">
              <div class="Select">
                <div class="Select-Lab">
                  <h6>Laboratorio</h6>
                  <select class="form-select" aria-label="Default select example">
                    <option value="1">One</option>
                    <option value="2">Two</option>
                    <option value="3">Three</option>
                  </select>
                </div>
                <div class="Select-PC">
                  <h6>Computadora</h6>
                  <select class="form-select" aria-label="Default select example">
                    <option value="1">One</option>
                    <option value="2">Two</option>
                    <option value="3">Three</option>
                  </select>
                </div>
              </div>
              <br>
              <h6>Solicitud</h6>
              <input type="text" class="form-control" id="datepicker" placeholder="Fecha...">
              <br>

              <div class="text-top-solicitud">
                <h6 class="top-text-inicio">Hora Inicio</h6>
                <h6 class="top-text-final">Hora Salida</h6>
              </div>
              <div class="timepicker-container">

                <div class="timePicker-inicio">

                  <div class="first-picker">
                    <span class="up-arrow">
                      <i class="fa-solid fa-chevron-up" style="color: #848188"></i>
                    </span>
                    <div class="container-input">
                      <input type="number" class="input-picker" id="quantity" value="01" min="1" max="12">
                    </div>
                    <span class="down-arrow">
                      <i class="fa-solid fa-chevron-down" style="color: #848188"></i>
                    </span>
                  </div>

                  <span>:</span>

                  <div class="last-picker">
                    <span class="up-arrow-l">
                      <i class="fa-solid fa-chevron-up" style="color: #848188"></i>
                    </span>
                    <div class="container-input">
                      <input type="number" class="input-picker" id="quantity-l" value="00" min="0" max="59">
                    </div>
                    <span class="down-arrow-l">
                      <i class="fa-solid fa-chevron-down" style="color: #848188"></i>
                    </span>
                  </div>

                  <button class="btn-time-picker-inicio">AM</button>

                </div>

                <div class="timePicker-final">

                  <div class="first-picker">
                    <span class="up-arrow-f">
                      <i class="fa-solid fa-chevron-up" style="color: #848188"></i>
                    </span>
                    <div class="container-input">
                      <input type="number" class="input-picker" id="quantity-f" value="01" min="1" max="12">
                    </div>
                    <span class="down-arrow-f">
                      <i class="fa-solid fa-chevron-down" style="color: #848188"></i>
                    </span>
                  </div>

                  <span>:</span>

                  <div class="last-picker">
                    <span class="up-arrow-f-l">
                      <i class="fa-solid fa-chevron-up" style="color: #848188"></i>
                    </span>
                    <div class="container-input">
                      <input type="number" class="input-picker" id="quantity-f-l" value="00" min="0" max="59">
                    </div>
                    <span class="down-arrow-f-l">
                      <i class="fa-solid fa-chevron-down" style="color: #848188"></i>
                    </span>
                  </div>

                  <button class="btn-time-picker-final">AM</button>
                </div>
              </div>

            </div>
            <div class="modal-footer">
              <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
              <button type="button" class="btn btn-primary">Save changes</button>
            </div>
          </div>
        </div>
      </div>

    </main>
  </div>

  <!--Filtrar tabla por busqueda en input-->
  <script>
    $(document).ready(function () {
      $("#myInput").on("keyup", function () {
        var value = $(this).val().toLowerCase();
        $("#dtTable tbody tr").each(function (index) {
          var row = $(this);
          var text = row.text().toLowerCase();
          if (text.indexOf(value) !== -1) {
            row.show();
          } else {
            row.hide();
          }
        });
      });
    });
  </script>

  <!--Filtra tabal por botones (descarado)-->
  <script>
    $(document).ready(function () {
      $('button[data-filter]').on('click', function () {
        var filter = $(this).data('filter');
        $('tbody tr').each(function () {
          var item = $(this).data('filter-item');
          if (filter === 'all' || filter === item) {
            $(this).show();
          } else {
            $(this).hide();
          }
        });
      });
    });
  </script>

  <script>
    $(function () {
      $('#datepicker').datepicker({
        autoclose: true,
        format: 'yyyy-mm-dd',
        todayHighlight: true,
        orientation: "bottom auto"
      });
    });
  </script>

  <script>
    $(function () {
      $('#timepicker').datetimepicker({
        format: 'LT'
      });
    });
  </script>

  <!--TimePicker-inicio-->

  <script>
    const upButtonI = document.querySelector('.up-arrow');
    const downButtonI = document.querySelector('.down-arrow');
    const quantityInputI = document.querySelector('#quantity');
    const amPmButton = document.querySelector('.btn-time-picker-inicio');
    let amPmState = 'AM';

    // Agrega un evento de clic a los botones de incremento y decremento
    upButtonI.addEventListener('click', () => {
      quantityInputI.value = (parseInt(quantityInputI.value) % 12) + 1;

      if (parseInt(quantityInputI.value) === 12) {
        amPmState = (amPmState === 'AM') ? 'PM' : 'AM';
        amPmButton.innerText = amPmState;
      }

      if(parseInt(quantityInputI.value) < 10){
        quantityInputI.value = '0' + quantityInputI.value;
      }
    });
    downButtonI.addEventListener('click', () => {
      // Decrementa la cantidad en 1, pero no puede ser menor a 0, y cambia de PM a AM si es necesario
      if (parseInt(quantityInputI.value) > 0) {
        quantityInputI.value = (parseInt(quantityInputI.value) - 1 + 13) % 13;
      } else {
        quantityInputI.value = 12;
      }

      if (quantityInputI.value === '12') {
        amPmState = (amPmState === 'AM') ? 'PM' : 'AM';
        amPmButton.innerText = amPmState;
      }

      if(parseInt(quantityInputI.value) < 10){
        quantityInputI.value = '0' + quantityInputI.value;
      }
    });
  </script>

  <script>
    const upButton = document.querySelector('.up-arrow-l');
    const downButton = document.querySelector('.down-arrow-l');
    const quantityInput = document.querySelector('#quantity-l');
    const quantityInput3 = document.querySelector('#quantity');
    const amPmButton1 = document.querySelector('.btn-time-picker-inicio');
    let amPmState1 = 'AM';

    upButton.addEventListener('click', () => {
      if (parseInt(quantityInput.value) + 15 > 59) {
        quantityInput.value = 0;
      } else {
        quantityInput.value = (parseInt(quantityInput.value) + 15) % 60;
      }
      if (quantityInput.value === '0') {
        quantityInput3.value = (parseInt(quantityInput3.value) % 12) + 1;

        if(parseInt(quantityInput3.value) < 10){
        quantityInput3.value = '0' + quantityInput3.value;
        }
      }

      if (quantityInput3.value === '12' && quantityInput.value === '0') {
        amPmState1 = (amPmState1 === 'AM') ? 'PM' : 'AM';
        amPmButton1.innerText = amPmState1;
      }

      if(parseInt(quantityInput.value) < 10){
        quantityInput.value = '0' + quantityInput.value;
      }
    });
    downButton.addEventListener('click', () => {
      if (parseInt(quantityInput.value) - 15 < 0) {
        quantityInput.value = 60 - Math.abs(parseInt(quantityInput.value) - 15);
      } else {
        quantityInput.value = (parseInt(quantityInput.value) - 15) % 60;
      }
      if (quantityInput.value === '45') {
        quantityInput3.value = (parseInt(quantityInput3.value) - 2 + 12) % 12 + 1;
        if(parseInt(quantityInput3.value) < 10){
        quantityInput3.value = '0' + quantityInput3.value;
        }
      }

      if (quantityInput3.value === '12' && quantityInput.value === '0') {
        amPmState1 = (amPmState1 === 'AM') ? 'PM' : 'AM';
        amPmButton1.innerText = amPmState1;
      }

      if(parseInt(quantityInput.value) < 10){
        quantityInput.value = '0' + quantityInput.value;
      }

    });
  </script>

  <!--TimePicker 2-->

  <script>
    const upButtonI2 = document.querySelector('.up-arrow-f');
    const downButtonI2 = document.querySelector('.down-arrow-f');
    const quantityInputI2 = document.querySelector('#quantity-f');
    const amPmButton2 = document.querySelector('.btn-time-picker-final');
    let amPmState2 = 'AM';

    // Agrega un evento de clic a los botones de incremento y decremento
    upButtonI2.addEventListener('click', () => {
      quantityInputI2.value = (parseInt(quantityInputI2.value) % 12) + 1;

      if (parseInt(quantityInputI2.value) === 12) {
        amPmState2 = (amPmState2 === 'AM') ? 'PM' : 'AM';
        amPmButton2.innerText = amPmState2;
      }

      if(parseInt(quantityInputI2.value) < 10){
        quantityInputI2.value = '0' + quantityInputI2.value;
      }

    });
    downButtonI2.addEventListener('click', () => {
      // Decrementa la cantidad en 1, pero no puede ser menor a 0, y cambia de PM a AM si es necesario
      if (parseInt(quantityInputI2.value) > 0) {
        quantityInputI2.value = (parseInt(quantityInputI2.value) - 1 + 13) % 13;
      } else {
        quantityInputI2.value = 12;
      }

      if (quantityInputI2.value === '12') {
        amPmState2 = (amPmState2 === 'AM') ? 'PM' : 'AM';
        amPmButton2.innerText = amPmState2;
      }

      if(parseInt(quantityInputI2.value) < 10){
        quantityInputI2.value = '0' + quantityInputI2.value;
      }
    });
  </script>

  <script>
    const upButton2 = document.querySelector('.up-arrow-f-l');
    const downButton2 = document.querySelector('.down-arrow-f-l');
    const quantityInput2 = document.querySelector('#quantity-f-l');
    const quantityInputF3 = document.querySelector('#quantity-f');
    const amPmButton3 = document.querySelector('.btn-time-picker-final');
    let amPmState3 = 'AM';
    
    upButton2.addEventListener('click', () => {
      if (parseInt(quantityInput2.value) + 15 > 59) {
        quantityInput2.value = 0;
      } else {
        quantityInput2.value = (parseInt(quantityInput2.value) + 15) % 60;
      }
      if (quantityInput2.value === '0') {
        quantityInputF3.value = (parseInt(quantityInputF3.value) % 12) + 1;

        if(parseInt(quantityInputF3.value) < 10){
        quantityInputF3.value = '0' + quantityInputF3.value;
        } 
      }
      if (quantityInputF3.value === '12' && quantityInput2.value === '0') {
        amPmState2 = (amPmState2 === 'AM') ? 'PM' : 'AM';
        amPmButton2.innerText = amPmState2;
      }

      if(parseInt(quantityInput2.value) < 10){
        quantityInput2.value = '0' + quantityInput2.value;
      }

    });
    downButton2.addEventListener('click', () => {
      // Decrementa la cantidad en 15 y reinicia en 45 si es menor a 0
      if (parseInt(quantityInput2.value) - 15 < 0) {
        quantityInput2.value = 60 - Math.abs(parseInt(quantityInput2.value) - 15);
      } else {
        quantityInput2.value = (parseInt(quantityInput2.value) - 15) % 60;
      }
      if (quantityInput2.value === '45') {
        quantityInputF3.value = (parseInt(quantityInputF3.value) - 2 + 12) % 12 + 1;

        if(parseInt(quantityInputF3.value) < 10){
        quantityInputF3.value = '0' + quantityInputF3.value;
        }
      }

      if (quantityInputF3.value === '12' && quantityInput2 === '00') {
        amPmState3 = (amPmState3 === 'AM') ? 'PM' : 'AM';
        amPmButton3.innerText = amPmState3;
        console.log("Hello")
      }

      if(parseInt(quantityInput2.value) < 10){
        quantityInput2.value = '0' + quantityInput2.value;
      }
    });
  </script>

  <!--XD-->
  <script>
    $('.input-picker').on('input', function() {
	  var x = $(this).val();
  	if (x < 10) x = '0' + x;
	  $(this).val(x);
    });
  </script>


  <script>
    const sidebarToggler = document.querySelector("#sidebar-toggler");
    sidebarToggler.addEventListener("click", () => {
      const sidebar = document.querySelector(".sidebar");
      sidebar.classList.toggle("active");
    });
  </script>
</body>

</html>